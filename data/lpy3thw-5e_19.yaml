- en: Exercise 17. More Files
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习17. 更多文件
- en: Now let’s do a few more things with files. We’ll write a Python script to copy
    one file to another. It’ll be very short but will give you ideas about other things
    you can do with files.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们做更多关于文件的事情。我们将编写一个Python脚本将一个文件复制到另一个文件。这将非常简短，但会给你关于文件的其他操作想法。
- en: 'Listing 17.1: ex17.py'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 列表17.1：ex17.py
- en: '[PRE0]'
  id: totrans-3
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You should immediately notice that we `import` another handy command named `exists`.
    This returns `True` if a file exists, based on its name in a string as an argument.
    It returns `False` if not. We’ll be using this function in the second half of
    this book to do lots of things, but right now you should see how you can import
    it.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该立即注意到我们`import`了另一个方便的命令叫做`exists`。如果文件存在，它会返回`True`，基于它的名称作为字符串参数。如果不存在，则返回`False`。我们将在本书的后半部分使用这个函数来做很多事情，但现在你应该看看如何导入它。
- en: Using `import` is a way to get a ton of free code other better (well, usually)
    programmers have written so you do not have to write it.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`import`是一种获取其他更好（通常是）程序员编写的大量免费代码的方法，这样你就不必自己编写它。
- en: What You Should See
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 你应该看到的内容
- en: 'Just like your other scripts, run this one with two arguments: the file to
    copy from and the file to copy it to. I’m going to use a simple test file named
    `test.txt`:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 就像你的其他脚本一样，用两个参数运行这个脚本：要复制的文件和要复制到的文件。我将使用一个名为`test.txt`的简单测试文件：
- en: '[PRE1]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: It should work with any file. Try a bunch more and see what happens. Just be
    careful you do not blast an important file.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 它应该适用于任何文件。尝试更多文件并看看会发生什么。只是要小心不要破坏重要文件。
- en: Warning!
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 警告！
- en: Did you see the trick I did with `echo` to make a file and `cat` to show the
    file? You can learn how to do that in Appendix A, “Command Line Crash Course.”
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 你看到我用`echo`制作文件和`cat`显示文件的技巧了吗？你可以在附录A“命令行速成课程”中学习如何做到这一点。
- en: Study Drills
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 学习练习
- en: 1\. This script is *really* annoying. There’s no need to ask you before doing
    the copy, and it prints too much out to the screen. Try to make the script friendlier
    to use by removing features.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 1\. 这个脚本*真的*很烦人。在复制之前没有必要询问你，而且在屏幕上打印出太多内容。尝试通过删除功能使脚本更加友好易用。
- en: 2\. See how short you can make the script. I could make this one line long.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 2\. 看看你能把脚本做得多短。我可以让这一行很长。
- en: 3\. Notice at the end of What You Should See I used something called `cat`?
    It’s an old command that “con*cat*enates” files together, but mostly it’s just
    an easy way to print a file to the screen. Type `man cat` to read about it.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 3\. 注意在“你应该看到的内容”末尾我使用了一个叫做`cat`的东西？这是一个“连接”文件的旧命令，但主要是一个将文件打印到屏幕的简单方法。输入`man
    cat`来了解它。
- en: 4\. Find out why you had to write `out_file.close()` in the code.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 4\. 找出为什么你需要在代码中写`out_file.close()`。
- en: 5\. Go read up on Python’s `import` statement, and start `python3` to try it
    out. Try importing some things and see if you can get it right. It’s alright if
    you do not.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 5\. 去了解一下Python的`import`语句，并开始使用`python3`尝试一下。尝试导入一些东西，看看你是否能做对。如果做不对也没关系。
- en: 6\. Try converting this code to an `ex17.py` script you can run from Terminal/PowerShell
    again. If you’re getting tired of Jupyter’s text editor, then check out one of
    the editors mentioned in the *[First Steps](https://learncodethehardway.org/first_steps/python/)*
    section.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 6\. 尝试将这段代码转换为一个`ex17.py`脚本，你可以再次从终端/PowerShell运行。如果你已经厌倦了Jupyter的文本编辑器，那么可以查看*[First
    Steps](https://learncodethehardway.org/first_steps/python/)*部分提到的编辑器。
- en: Common Student Questions
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 常见学生问题
- en: '**Why is the** `''w''` **in quotes?** That’s a string. You’ve been using strings
    for a while now. Make sure you know what a string is.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**为什么** `''w''` **要加引号？** 那是一个字符串。你已经使用字符串一段时间了。确保你知道什么是字符串。'
- en: '**No way you can make this one line!** That ; depends ; on ; how ; you ; define
    ; one ; line ; of ; code.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**不可能让这一行变成一行！** 那个；取决于；你；如何；定义；一行；代码。'
- en: '**Is it normal to feel like this exercise was really hard?** Yes, it is totally
    normal. Programming may not “click” for you until maybe even [Exercise 36](ch36.xhtml#ch36),
    or it might not until you finish the book and then make something with Python.
    Everyone is different, so just keep going and keep reviewing exercises that you
    had trouble with until it clicks. Be patient.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**感觉这个练习很难是正常的吗？** 是的，这是完全正常的。直到[Exercise 36](ch36.xhtml#ch36)，甚至可能在你完成这本书并用Python做一些东西之后，编程可能才会“点亮”。每个人都不同，所以继续前进，继续复习你遇到困难的练习，直到理解为止。要有耐心。'
- en: '**What does the** `len()` **function do?** It gets the length of the string
    that you pass to it and then returns that as a number. Play with it.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**`len()`函数是做什么的？** 它获取你传递给它的字符串的长度，然后将其作为一个数字返回。试着玩一下。'
- en: '**When I try to make this script shorter, I get an error when I close the files
    at the end**. You probably did something like this, `indata = open(from_file).read()`,
    which means you don’t need to then do `in_file.close()` when you reach the end
    of the script. It should already be closed by Python once that one line runs.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '**当我试图缩短这个脚本时，在结尾关闭文件时出现错误**。你可能做了类似这样的事情，`indata = open(from_file).read()`，这意味着当你到达脚本结尾时就不需要再执行`in_file.close()`。一旦那一行运行，Python
    应该已经关闭了它。'
- en: '**I get a** `Syntax:EOL while scanning string literal` **error**. You forgot
    to end a string properly with a quote. Go look at that line again.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**我收到一个** `Syntax:EOL while scanning string literal` **错误**。你忘记用引号正确结束一个字符串。再去看看那一行。'
