## 练习 18：名称、变量、代码、函数

大标题，对吧？我将要向你介绍*函数*！Dum dum dah！每个程序员都会滔滔不绝地谈论函数以及它们如何工作和做什么，但我会给你一个你现在可以使用的最简单的解释。

函数有三个作用：

1.  它们命名代码片段的方式就像变量命名字符串和数字一样

2.  它们接受参数的方式就像 Python 脚本在练习 13 中接受`argv`

3.  使用 1 和 2，它们让你制作自己的“迷你脚本”或“微型命令”

你可以像这样在 Python 中使用`def`来创建一个*空*函数：

列表 18.1: ex18_demo.py

```py
1   **def** do_nothing**()**:
2       **pass**
```

这创建了函数，但`pass`关键字告诉 Python 这个函数是空的。要使函数执行某些操作，你需要在`def`行下添加函数的代码，但要缩进四个空格：

列表 18.2: ex18_demo.py

```py
1   **def** do_something**()**:
2       **print(**"I did something!"**)**
```

这实际上将代码`print("I did something!")`分配给名称`do_something`，这样你以后可以再次在代码中使用它，类似于其他变量。使用你定义的函数是如何“运行”它或“调用”它的：

列表 18.3: ex18_demo.py

```py
1   **def** do_something**()**:
2       **print(**"I did something!"**)**
3
4   # now we can call it by its name
5   do_something**()**
```

当底部的`do_something()`运行时，Python 执行以下操作：

1.  在 Python 的内存中找到`do_something`函数

2.  看到你用`()`调用它

3.  跳转到`def do_something()`行的位置

4.  运行`def`下的代码行，这里是一行：`print("I did`

5.  [rcurvearrowse] `something!"` 当`def`下的代码完成时，Python 退出函数并跳回到你调用它的位置

6.  然后它继续，这在这种情况下是代码的结尾

对于这个练习，你只需要了解一个概念，那就是函数的“参数”：

列表 18.4: ex18_demo.py

```py
1   **def** do_more_things**(**a, b**)**:
2       **print(**"A IS", a, "B IS", b**)**
3
4   do_more_things**(**"hello", 1**)**
```

在这种情况下，我有两个参数（也称为“参数”）传递给`do_more_things`函数：`a`和`b`。当我使用`do_more_things("hello", 1)`调用这个函数时，Python *临时*赋值`a="hello"`和`b=1`，然后调用函数。这意味着，在函数内部`a`和`b`将具有这些值，并且当函数退出时它们将消失。这有点像这样：

列表 18.5: ex18_demo.py

```py
1   **def** do_more_things**(**a, b**)**:
2       a = "hello"
3       b = 1
4       **print(**"A IS", a, "B IS", b**)**
```

请记住这并不完全准确，因为如果你用不同的参数调用`do_more_things`，`a`和`b`会不同。这只是一个例子，*一次*你用`do_more_things ("hello", 1)`调用它。

### 练习代码

现在花点时间在 Jupyter 中玩耍，创建自己的函数并在尝试这段代码之前调用它们。确保你理解代码如何跳转到函数，然后再跳回来。然后我会让你创建四个不同的函数，然后我会展示它们之间的关系：

列表 18.6: ex18.py

```py
1   # this one is like your scripts with argv
2   **def** print_two**(***args**)**:
3       arg1, arg2 = args
4       **print(**f"arg1: {arg1}, arg2: {arg2}"**)**
5
6   # ok, that *args is actually pointless, we can just do this
7   **def** print_two_again**(**arg1, arg2**)**:
8       **print(**f"arg1: {arg1}, arg2: {arg2}"**)**
9
10   # this just takes one argument
11   **def** print_one**(**arg1**)**:
12       **print(**f"arg1: {arg1}"**)**
13
14   # this one takes no arguments
15   **def** print_none**()**:
16       **print(**"I got nothin'."**)**
17
18
19   print_two**(**"Zed","Shaw"**)**
20   print_two_again**(**"Zed","Shaw"**)**
21   print_one**(**"First!"**)**
22   print_none**()**
```

让我们分解第一个函数`print_two`，这与你从制作脚本中已经了解的内容最相似：

1.  首先，我们告诉 Python 我们要使用`def`来制作一个函数，其中`def`代表“定义”。

2.  在与`def`相同的行上，我们给函数命名。在这种情况下，我们只是称之为“print_two”，但也可以是“peanuts”。这不重要，除非你的函数应该有一个简短的名称，说明它的作用。

3.  然后我们告诉它我们想要`*args`（星号参数），这很像你的`argv`参数，但用于函数。这*必须*放在`()`括号内才能起作用。

4.  然后我们以`:`（冒号）结束这一行并开始缩进。

5.  冒号之后，所有缩进四个空格的行都将与此名称`print_two`相关联。我们的第一个缩进行是一个解压参数的行，与您的脚本相同。

6.  为了演示它的工作原理，我们打印出这些参数，就像在脚本中一样。

`print_two`的问题在于这不是制作函数的最简单方法。在 Python 中，我们可以跳过整个解压参数的过程，直接在`()`内部使用我们想要的名称。这就是`print_two_again`的作用。

在那之后，你有一个在`print_one`中接受一个参数的函数示例。

最后，你有一个没有参数的函数`print_none`。

警告！

这非常重要。如果现在这还不太明白，不要灰心。我们将做一些练习，将函数与你的脚本链接起来，并向你展示如何制作更多函数。现在，当我说“函数”时，只需继续思考“小型脚本”，并继续尝试。

### 你应该看到的内容

如果你运行`ex18.py`，你应该看到：

```py
1   arg1: Zed, arg2: Shaw
2   arg1: Zed, arg2: Shaw
3   arg1: First!
4   I got nothin'.
```

立即你就能看到函数是如何工作的。注意你使用函数的方式就像你使用`exists`、`open`和其他“命令”一样。事实上，我一直在欺骗你，因为在 Python 中，这些“命令”只是函数。这意味着你可以制作自己的命令并在脚本中使用它们。

### 学习练习

为后续练习创建一个*函数清单*。将这些检查写在一张索引卡上，并在完成其余练习时或直到你觉得不再需要索引卡时保留在身边：

1.  你是否以`def`开始函数定义？

2.  你的函数名称只包含字符和`_`（下划线）字符吗？

3.  你是否在函数名称后面放置了`(`（开括号）？

4.  你是否在`(`（开括号）后面用逗号分隔放置了参数？

5.  你是否使每个参数都是唯一的（即没有重复的名称）？

6.  你是否在参数后面放置了`):`（一个闭括号和一个冒号）？

7.  你是否将所有想要放在函数中的代码都缩进了四个空格？不多也不少。

8.  你是否通过取消缩进（我们称之为“去缩进”）来“结束”函数？

当你运行（“使用”或“调用”）一个函数时，请检查以下事项：

1.  你是否通过键入函数名称来调用/使用/运行此函数？

2.  你是否在名称后面放置了`(`字符以运行它？

3.  你是否将想要的值放在括号内，用逗号分隔？

4.  你是否以`）`字符结束了函数调用？

在剩下的课程中使用这两个检查表，直到你不再需要它们为止。

最后，对自己重复几次：

```py
1   "To 'run,' 'call,' or 'use' a function all mean the same thing."
```

### 常见学生问题

**函数名允许使用什么？** 与变量名相同。任何不以数字开头且由字母、数字和下划线组成的内容都可以。

**在** `*args` **中的** `*` **是做什么的？** 这告诉 Python 获取函数的所有参数，然后将它们作为列表放入`args`中。就像你一直在使用的`argv`，但用于函数。除非特别需要，通常不会经常使用。

**这感觉真的很无聊和单调**。这是好事。这意味着你开始擅长输入代码并理解它的作用。为了让它不那么无聊，把我告诉你要输入的所有内容都故意打破。
