## 练习 25：字典和函数

在这个练习中，我们将通过将函数与`dict`结合起来做一些有趣的事情。这个练习的目的是确认你可以在 Python 中组合不同的东西。组合是编程的关键方面，你会发现许多“复杂”的概念实际上只是更简单概念的组合。

### 第一步：函数名称是变量

为了做好准备，我们首先要确认函数的名称就像其他变量一样。看看这段代码：

```py
1   def print_number(x):
2       print("NUMBER IS", x)
3
4   rename_print = print_number
5   rename_print(100)
6   print_number(100)
```

如果你运行这段代码，你会发现`rename_print`和`print_number`做的事情完全相同，这是因为它们是相同的。函数的名称与变量的名称相同，你可以将名称重新分配给另一个变量。这就像这样做一样：

```py
1   x = 10
2   y = x
```

玩弄这个，直到你明白。创建自己的函数，然后将它们分配给新名称，直到你理解这个概念。

### 第二步：带有变量的字典

这可能很明显，但以防你还没有建立联系，你可以将一个变量放入`dict`中：

```py
1   color = "Red"
2
3   corvette = {
4   "color": color
5   }
6
7   print("LITTLE", corvette["color"], "CORVETTE")
```

接下来的拼图部分是有意义的，因为你可以将数字和字符串等值放入`dict`中。你也可以将这些相同的值分配给变量，因此将它们组合起来并将变量放入`dict`中是有意义的。

### 第三步：带有函数的字典

你应该看到这是怎么回事了，但现在我们可以将这些概念结合起来，将一个函数放入`dict`中：

```py
 1   def run():
 2    print("VROOM")
 3
 4   corvette = {
 5     "color": "Red",
 6     "run": run
 7   }
 8
 9   print("My", corvette["color"], "can go")
10   corvette["run"]()
```

我从前面的`color`变量中取出，并将其直接放入`corvette`的`dict`中。然后我创建了一个名为`run`的函数，并将其放入`corvette`中。最棘手的部分是最后一行`corvette ["run"]()`，但看看你是否可以根据你所知道的来弄清楚它。在继续之前，花些时间写出这行代码正在做什么的描述。

### 第四步：解密最后一行

解密最后一行`corvette["run"]()`的技巧是将其分解成每个部分。人们对这样的代码行感到困惑的原因是他们看到了一个单一的东西，“运行 corvette”。事实上，这行代码由*许多*东西组合在一起共同工作。如果我们将其拆分开来，我们可以得到这段代码：

```py
1   # get the run fuction out of the corvette dict
2   myrun = corvette["run"]
3   # run it
4   myrun()
```

即使这两行并不是整个故事，但这向你展示了这至少是一行上的两个操作：使用`["run"]`获取函数，然后使用`()`运行函数。为了进一步分解这个，我们可以写成：

1.  `corvette`告诉 Python 加载`dict`

2.  `[`告诉 Python 开始索引到`corvette`

3.  `"run"`告诉 Python 使用`"run"`作为键来搜索`dict`

4.  `]`告诉 Python 你已经完成索引，它应该完成索引

5.  Python 然后*返回*与键`"run"`匹配的`corvette`内容，这是之前的`run()`函数

6.  Python 现在有了`run`函数，所以`()`告诉 Python 像调用任何其他函数一样调用它

花些时间理解这是如何工作的，并在`corvette`上编写自己的函数以使其执行更多操作。

### 学习练习

现在你有一段控制汽车的好代码。在这个练习中，你将创建一个新的函数，*创建任何汽车*。你的*创建函数*应满足以下要求：

1.  它应接受参数来设置颜色、速度或其他你的汽车可以做的任何事情。

2.  它应创建一个包含正确设置并已包含你创建的所有函数的`dict`。

3.  它应返回这个`dict`，这样人们可以将结果分配给任何他们想要的东西，并以后使用。

4.  它应该被编写成这样，以便某人可以创建任意数量的不同汽车，每个他们制造的汽车都是独立的。

5.  你的代码应通过改变几辆不同汽车的设置来测试#4，然后确认它们没有改变其他汽车的设置。

这个挑战不同，因为我会在后面的练习中向你展示挑战的答案。如果你在这个挑战中遇到困难，那么暂时搁置它，继续前进。你很快会再次看到它。
